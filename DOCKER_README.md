# Запуск приложения Mentor с использованием Docker

Это руководство поможет вам запустить приложение Mentor в Docker-контейнерах.

## Предварительные требования

- Установленный [Docker](https://www.docker.com/get-started)
- Установленный [Docker Compose](https://docs.docker.com/compose/install/) (обычно входит в состав Docker Desktop)

## Структура Docker-конфигурации

Проект содержит следующие Docker-файлы:

1. `Dockerfile` - сборка и запуск фронтенда на React
2. `Dockerfile.backend` - сборка и запуск бэкенда на Go
3. `docker-compose.yml` - оркестрация всех сервисов (фронтенд, бэкенд, база данных)
4. `nginx.conf` - конфигурация Nginx для проксирования запросов

## Быстрый запуск

### Windows

Запустите PowerShell от имени администратора и выполните:

```powershell
# Переход в директорию проекта
cd путь\к\проекту

# Запуск скрипта автоматизации
.\docker-deploy.ps1
```

### Linux/MacOS

```bash
# Переход в директорию проекта
cd путь/к/проекту

# Запуск с помощью скрипта
chmod +x docker-deploy.sh
./docker-deploy.sh
```

### Ручной запуск

Вы также можете запустить контейнеры вручную:

```bash
# Сборка образов
docker-compose build

# Запуск контейнеров в фоновом режиме
docker-compose up -d
```

## Доступ к приложению

После успешного запуска, приложение будет доступно по следующим адресам:

- **Фронтенд**: [http://localhost](http://localhost)
- **API бэкенда**: [http://localhost:5000](http://localhost:5000)

## Управление контейнерами

### Просмотр логов

```bash
# Логи всех сервисов
docker-compose logs -f

# Логи конкретного сервиса
docker-compose logs -f frontend
docker-compose logs -f backend
docker-compose logs -f postgres
```

### Остановка приложения

```bash
docker-compose down
```

### Полная очистка (включая данные)

```bash
docker-compose down -v
```

## Настройка конфигурации

### Изменение портов

Порты настраиваются в файле `docker-compose.yml`. По умолчанию:
- Фронтенд: 80
- Бэкенд: 5000
- PostgreSQL: 5432

### Переменные окружения

Переменные окружения для сервисов настраиваются в разделе `environment` в файле `docker-compose.yml`.

## Часто встречающиеся проблемы

### Порты уже заняты

Если порты 80, 5000 или 5432 уже используются другими приложениями, измените их в файле `docker-compose.yml`.

### Проблемы с подключением к базе данных

В случае проблем с подключением к базе данных проверьте переменные окружения в `docker-compose.yml` и убедитесь, что они соответствуют настройкам в бэкенде.

### Проблемы с доступом к файлам

Если у вас возникают ошибки доступа к томам/файлам, проверьте права доступа для директорий. 